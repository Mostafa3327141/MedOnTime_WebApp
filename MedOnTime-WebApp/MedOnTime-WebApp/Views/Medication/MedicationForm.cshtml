@model Medication

<div>
    <div class="alert-danger text-left" asp-validation-summary="All"></div>
    <h4>Add new medication for @LoginStatus.SelectedPatient.FirstName</h4>
    <form enctype="multipart/form-data" asp-action="MedicationForm" method="post">
        <input type="submit" />
        <!--Current Caretaker-->
        <input type="hidden" value="@LoginStatus.LogginedUser.Id" asp-for="CaretakerID" />
        <input type="hidden" value="@LoginStatus.SelectedPatient.PatientID" asp-for="PatientID" />
        <!-- Medication name field-->
        <div class="registerField">
            <input class="form-control" asp-for="MedicationName" placeholder="Medication Name" />
        </div>
        <!-- Method of taking field-->
        <div class="registerField">
            <input class="form-control" asp-for="MethodOfTaking" placeholder="Method of Taking" />
        </div>
        <!-- Dosage field-->
        <div class="registerField">
            <input class="form-control" asp-for="Dosage" placeholder="Dosage" />
        </div>
        <!-- Quantity field-->
        <div class="registerField">
            <input class="form-control" asp-for="Quantity" min="0" placeholder="Quantity" />
        </div>
        <!-- Medicine type field-->
        <div class="registerField">
            <select class="form-control  mb-3" asp-for="MedicationType">
                <option selected>Medicine Type</option>
                <option value="pill">Pill</option>
                <option value="syrup">Syrup</option>
                <option value="spray">Spray</option>
            </select>
        </div>

        <!-- Frequency field-->
        <div class="registerField">
            <select class="form-control mb-3" asp-for="Frequency">
                <option selected>Frequency</option>
                <option value="Every Day" selected>Every Day</option> <!--Hours Between = 24 hours-->
                <option value="Specific Days">Specific Days</option>
                <option value="Days Interval">Days Interval</option>
                <option value="Birth Control Cycle">Birth Control Cycle</option>
            </select>
        </div>

        <!-- First Dose Time field-->
        <div class="registerField">
            <label style="margin: 0;" asp-for="FirstDoseTime">First Dose Time</label><br />
            <div id="timepicker" class="timepicker">
                <input class="timepickinput" type="text" value="00:00 AM" asp-for="FirstDoseTime" readonly />
            </div>
        </div>

        <!-- HoursBetween field-->
        <div class="registerField">
            <input class="form-control" type="number" asp-for="HoursBetween" min="0" placeholder="HoursBetween" />
        </div>

        <!-- HoursBetween field-->
        <div class="registerField">
            <label style="margin: 0;" >Select a shape as an identifier</label><br />

            <select class="form-control" id="shape-selector" onChange="shapeSelectorChange()">
                <option selected="selected" disabled>Please select a shape</option>
                @{ foreach (Shape s in LoginStatus.SelectedPatient.UnSelectedShapes)
                    {
                        <option value="@s.ShapeName">@s.ShapeDisplay</option>
                    }
                }
@*                <option value="circle" selected="selected">Circle</option>
                <option value="oval">Oval</option>
                <option value="triangle">Triangle</option>
                <option value="heart">Heart</option>
                <option value="pentagon">Pentagon</option>
                <option value="hexagon">Hexagon</option>
                <option value="octagon">Octagon</option>
                <option value="rightTri">Right Triangle</option>
                <option value="sTri">Scalene Triangle</option>
                <option value="square">Square</option>
                <option value="rectangle">Rectangle</option>
                <option value="parallelogram">Parallelogram</option>
                <option value="trapezuim">Trapezuim</option>
                <option value="rhombus">Rhombus</option>
                <option value="4star">4 Pointed Star</option>
                <option value="star">5 Pointed Star</option>
                <option value="6star">6 Pointed Star</option>*@
            </select>
            <img id="shape-display" />
        </div>

        <!--Upload Pill Image field-->
        <div class="registerField">
            <label>Upload Medication</label> <br />
            <div style="padding: 10px 50px; border: solid black 2px; cursor:pointer;" class="btn btn-lg">
                <div class="image-upload">
                    <label for="file-upload" class="custom-file-upload">
                        <img class="upload-image-icon" src="~/img/upload-image-icon.png" alt="Upload Image Icon" />
                    </label>
                    <input id="file-upload" type="file" name="medImage" style="display:none;" />
                </div>
            </div>
        </div>
    </form>

    <script>
        function shapeSelectorChange() {
            var selectedShape = document.getElementById("shape-selector").value;
            var shapeDisplay = document.getElementById("shape-display");

            switch (selectedShape) {
                case "circle":
                    shapeDisplay.src = "/img/shapes/circle.PNG"
                    break;
                case "oval":
                    shapeDisplay.src = "/img/shapes/oval.PNG"
                    break;
                case "triangle":
                    shapeDisplay.src = "/img/shapes/Triangle.PNG"
                    break;
                case "heart":
                    shapeDisplay.src = "/img/shapes/Heart.PNG"
                    break;
                case "pentagon":
                    shapeDisplay.src = "/img/shapes/pentagon.PNG"
                    break;
                case "hexagon":
                    shapeDisplay.src = "/img/shapes/hexagon.PNG"
                    break;
                case "octagon":
                    shapeDisplay.src = "/img/shapes/octagon.PNG"
                    break;
                case "rightTri":
                    shapeDisplay.src = "/img/shapes/right_triangle.PNG"
                    break;
                case "sTri":
                    shapeDisplay.src = "/img/shapes/sTriangle.PNG"
                    break;
                case "square":
                    shapeDisplay.src = "/img/shapes/square.PNG"
                    break;
                case "rectangle":
                    shapeDisplay.src = "/img/shapes/rectangle.PNG"
                    break;
                case "parallelogram":
                    shapeDisplay.src = "/img/shapes/parallelogram.PNG"
                    break;
                case "trapezuim":
                    shapeDisplay.src = "/img/shapes/Trapezuim.PNG"
                    break;
                case "rhombus":
                    shapeDisplay.src = "/img/shapes/Rhombus.PNG"
                    break;
                case "4star":
                    shapeDisplay.src = "/img/shapes/4pointStar.PNG"
                    break;
                case "star":
                    shapeDisplay.src = "/img/shapes/star.PNG"
                    break;
                case "6star":
                    shapeDisplay.src = "/img/shapes/6pointStar.PNG"
                    break;
            }
        }
    </script>
</div>